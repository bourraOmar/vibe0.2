<ul class="space-y-6 px-4">
    @foreach ($listusers as $user)
    <li
        class="flex items-center justify-between bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300"
    >
        <div class="flex items-center space-x-4">
            <a href="{{ route('profileUser', $user->id) }}">
                <div class="p-2">
                    <img
                        style="width: 50px"
                        class="w-12 h-12 rounded-full object-cover"
                        src="{{ asset('storage/' . $user->profile_photo) }}"
                        alt="Profile Photo"
                    />
                </div>
            </a>
            <div>
                <h2
                    class="text-lg font-semibold text-gray-900 dark:text-gray-100"
                >
                    {{ $user->fullname }}
                </h2>
                <p class="text-sm text-gray-500 dark:text-gray-400">
                    @ {{ $user->username }}
                </p>
            </div>
        </div>
        @if ($user->id != auth()->id())
        <!-- Vérifier si une demande d'ami a déjà été envoyée -->
        @php $friendRequest = \App\Models\FriendRequest::where('sender_id',
        auth()->id()) ->where('receiver_id', $user->id) ->first(); @endphp @if
        (!$friendRequest)
        <form action="{{ route('request.send', $user->id) }}" method="POST">
            @csrf
            <button class="bg-blue-500 text-white px-4 py-2 rounded-lg">
                Friend Request
            </button>
        </form>
        @elseif($friendRequest->status == 'pending')
        <button class="bg-gray-500 text-white px-4 py-2 rounded-lg" disabled>
            Pending...
        </button>
        @elseif($friendRequest->status == 'accepted')
        <button class="bg-gray-500 text-white px-4 py-2 rounded-lg" disabled>
            Friend
        </button>
        @endif @endif
    </li>
    @endforeach
</ul>
